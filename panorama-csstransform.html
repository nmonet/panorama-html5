<!doctype html>
<html lang="en">
	<head>
		<title>Panorama HTML5 Css Transforms</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				background-color: #000000;
				margin: 0px;
				overflow: hidden;
			}

			#info {
				position: absolute;
				top: 0px; width: 100%;
				color: #ffffff;
				padding: 5px;
				font-family:Monospace;
				font-size:13px;
				font-weight: bold;
				text-align:center;
			}

			#pano {
				position: absolute;
				top: 0px; 
				left:0px;
				width: 100%;
				height: 100%;
			}
			
			#photo {
				position: absolute;
				top: 50px; 
				left:50px;
				width: 100%;
				height: 100%;
				display:none;
			}

			a {
				color: #ffffff;
			}
			
			.panorama.controller {
				bottom : 15px;
				height : 20px;
				width:250px;
				left:250px;
				background-color:black;
				position: absolute;
			}
			
			.panorama .infos, .panorama .images {
				position: absolute;
				top : 0px;
				left:0px;
			}
			
			.panorama .infos {
				z-index: 2;
			}
			
			.panorama .infos .photo {
				position: absolute;
			}
			
			.panorama .infos .sommet {
				width : 150px;
				position: absolute;
			}
			
			.panorama .infos .sommet .icon {
				height : 50px;
			}
			
			.panoleft, .panomiddle, .panoright {
				position:relative;
			}
			
			.panorama .infos .sommet .text {
				-webkit-transform: rotate(-45deg);
				-moz-transform: rotate(-45deg);
				-ms-transform: rotate(-45deg);
				-o-transform: rotate(-45deg);
				transform: rotate(-45deg);
				-webkit-transform-origin: left top;
				-moz-transform-origin: left top;
				-ms-transform-origin: left top;
				-o-transform-origin: left top;
				transform-origin: left top;
			}
			
			.panorama .image {
				float:left;
			}
			
			.panorama .infos .panoramalink {
				position: absolute;
				width : 50px;
				height : 50px;
				background-image:url('PanoramaIcon.png');
				background-size: 50px 50px;
			}
			
			.control {
				width : 20px;
				height: 20px;
				margin-left : 2px;
				margin-right:2px;
				float:left;
			}
			
			.photo.control {
				background-color : red;
			}
			.sommet.control {
				background-color : blue;
			}
			.panorama.control {
				background-color : green;
			}
			.origin.control {
				background-color : yellow;
			}
			.control.disable {
				border : 1px solid red;
			}
			
			.icon {
				background-image: url('icon.png');
			}
			
			.arrow.icon {
				background-position : 0 0px;
			}
			
			progress {
				z-index : 100;
				position : absolute;
				top : 10px;
				left : 10px;
			}			
			
			.minipano {
				top : 10px;
				left : 10px;
				position: absolute;
				width : 50px;
				height : 50px;				
			}
			
			.minipano .zone {
				border : 1px solid yellow;
				height : 5px;
			}
		</style>		
		<script src="jquery.js"></script>
		<script src="Modernizr.js"></script>
		<script src="panorama-csstransform.js"></script>
		<script src="jquery.transform.js"></script>
	</head>
	<body>
		<div id="pano" class="panorama">
		</div>
		<div id="minipano" class="minipano">
		</div>
		<div id="photo">
			<img id="photoImg" style="width:100%;height:100%" />'
		</div>
		<div id="info">
		</div>
		<div id="panoController" class="panorama controller">
			<div class="control photo" title="Affiche les photos">&nbsp;</div>
			<div class="control sommet" title="Affiche les sommets">&nbsp;</div>
			<div class="control panorama" title="Affiche les panoramas">&nbsp;</div>
			<div class="control origin" title="Va au point de depart">&nbsp;</div>
			<div class="control gauche" title="Gauche">&nbsp;</div>
			<div class="control droite" title="Droite">&nbsp;</div>
			<div class="control haut" title="Haut">&nbsp;</div>
			<div class="control bas" title="Bas">&nbsp;</div>
			<div class="control zoomplus" title="Zoom Plus">&nbsp;</div>
			<div class="control zoommoins" title="Zoom Moins">&nbsp;</div>
		</div>
		<progress id="progress" max="100"></progress> 
		<script>
		$(document).ready(function() {
	var panos = [
		new Panorama({ id : 1, nbImage : 65, image : 'Aiguille de Varan.jpg', largeur : 17485, hauteur : 2168, loop : true, sommets : [{'text':'Mont-Blanc', 'x':1800, 'y':550, 'cssClass':'mtblanc'}, {'text':'Aiguille du Midi', 'x':1020, 'y':660}], photos : [{'imgUrl':'MontBlanc.jpg', 'x':400, 'y':400, 'cssClass':'testclass'}], panoramas : [{x:700,y:900}, {x:5550, y:1250,id:2, cssClass:'test'}]}), 
		new Panorama({ id : 2, nbImage : 8, image : 'ValleeSallanchesSousLebrouillard.jpg', origin :1000, largeur : 9752, hauteur : 1539, loop : false, sommets : [{'text':'Mont-Blanc', 'x':8810, 'y':320}], photos : [], panoramas : [{ 'x':880, 'y':105}]}),	
	];
	AffichePanorama.init({ panos : panos});	
	//AffichePanorama.init();	
	AffichePanorama.loadPano(1);
	AffichePanorama.progressFn = function (update) {
		$('#progress').show().val(update);
		if (update >= 100) {
			$('#progress').hide();
		}
	};
	$(document).on('click', '.infos .panoramalink', function(event) {
			AffichePanorama.loadPano($(this).data('panoid'));
	});	
	
});
		</script>
	</body>
</html>
